{"version":3,"sources":["client/dist/app.js"],"names":["app","config","appPath","directivesPath","courses","$stateProvider","state","url","views","mainView","template","$inject","angular","module","toasterConfig","limit","Notifications","toaster","showError","title","message","notifyMessage","showSuccess","showInfo","showSpinner","clear","remove","notificationId","containerId","timeout","type","pop","body","notifyCloseButton","toastId","showErrors","errorMessages","forEach","value","key","self","this","service","datePicker","DatePickerController","$scope","$timeout","vm","isOpened","open","closeText","isDefined","format","manualEntry","onDateChange","ngChange","isReadOnly","directive","require","restrict","scope","ngModel","ngRequired","field","clearText","currentText","altInputFormats","datepickerOptions","replace","templateUrl","controller","controllerAs","component","author","EditCoursesController","Course","$uibModalInstance","course","_delete","success","data","close","cancel","dismiss","save","EditCourseController","Teacher","teacherSelected","selectedTeacher","teacherId","id","teacherName","name","teachers","query","teacher","bindings","CourseStudentsController","uiGridConstants","_init","_initStudentsGrid","addStudent","entity","editStudent","removeStudent","studentsGrid","paginationPageSizes","paginationPageSize","rowHeight","enableRowSelection","enableRowHeaderSelection","enableSelectAll","multiSelect","enableHorizontalScrollbar","scrollbars","NEVER","enableVerticalScrollbar","enableColumnMenus","enableSorting","columnDefs","displayName","cellTemplate","width","cellClass","appScopeProvider","students","add","edit","courseId","ViewCourseController","CoursesListController","$uibModal","$templateCache","_initCoursesGrid","addCourse","_openDialog","result","then","push","editCourse","_updateCourse","removeCourse","_removeCourse","index","indexOf","splice","viewName","ctrl","tUrl","animation","keyboard","backdrop","size","resolve","coursesGrid","onRegisterApi","gridApi","selection","on","rowSelectionChanged","row","ApiHelper","$q","$log","notifications","_notificationSettings","loadAction","spinningPrefix","successSuffix","errorPrefix","createAction","saveAction","deleteAction","load","params","actionName","_call","create","deleteRecord","call","spinningNotification","spinning","successNotification","errorNotification","error","action","deferred","defer","response","_getData","reject","ex","Exception","promise","args","_getNotifications","description","length","upperFirstLetterDescription","toUpperCase","substring","lowerFirstLetterDescription","toLowerCase","actionNotificationSetting","showSpinnerNotifications","showSuccessNoifications","showErrorNoifications","Courses","resource","courseResource","listName","transformFactory","transformObject","obj","prop","hasOwnProperty","newPropName","_lowerFirstLetter","splitted","split","i","_upperFirstLetter","join","val","charAt","_transform","isArray","arr","isObject","factory","Helper","$http","settings","transformData","_http","method","getUrl","headers","contentType","wsUrl","webserviceUrl","getDataFromResponse","get","post","undefined","put","resourceFactory","httpClient","apiHelper","opts","_save","options","getId","_query","list","_apiCall","Error","_get","isList","promiseFn","copy","isString","isFunction","Id","Resource","extend","$save","$delete","Student"],"mappings":"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","file":"client/dist/app.min.js","sourcesContent":["var app = {\n    config:{\n        appPath: '/client/app/',\n        directivesPath: '/client/app/directives/',\n        courses: '/client/app/courses/',\n    }\n};\n(function () {\r\n    'use strict';\r\n\n    config.$inject = [\"$stateProvider\"];\r\n    angular.module('courses.main', ['courses.common'])\r\n        .config(config);\r\n\r\n    function config($stateProvider) {\r\n        'ngInject';\r\n\r\n        $stateProvider.state('Default', {\r\n            url: '',\r\n            views: {\r\n                \"mainView\": {                    \r\n                    template: '<courses-list></courses-list>',                    \r\n                }\r\n            }\r\n        });\r\n    }\r\n})();\n(function () {\n\t'use strict';\n\tangular.module('courses.common', [\n\t\t\t/* Angular modules */\n\t\t\t'ngMessages',\n\t\t\t'ngSanitize',\n\n\t\t\t/* Cross-app modules */\n\t\t\t'courses.settings',\n\t\t\t'courses.notifications',\n\t\t\t'courses.services',\n\n\t\t\t/* App directives */\n\t\t\t'courese.directives',\n\n\t\t\t/* 3rd Party modules */\n\t\t\t'ui.bootstrap',\n\t\t\t'ui.router',\n\t\t\t'ui.select',\n\t\t\t'ui.grid',\n\t\t\t'ui.grid.selection',\n\t\t\t'ui.grid.pagination',\n\t\t\t'ui.grid.autoResize',\n\t\t\t'toaster']\n\t\t)\n\t\t// if config grow bigger it will be moved to separate file\n\t\t.config(['toasterConfig', function (toasterConfig) {\n\t\t\ttoasterConfig['close-button'] = true;\n\t\t\ttoasterConfig['position-class'] = 'toast-top-right';\n\t\t\ttoasterConfig['newest-on-top'] = false;\n\t\t\ttoasterConfig.limit = 50;\n\t\t}]);\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('courses.services', ['courses.notifications', 'courses.settings']);\n})();\n(function () {\r\n\r\n})();\n(function () {\n    'use strict';\n\n    var Notifications = (function () {\n        function Notifications(toaster) {\n            var self = this;\n\n            self.showError = showError;\n            self.showSuccess = showSuccess;\n            self.showInfo = showInfo;\n            self.showSpinner = showSpinner;\n            self.clear = clear;\n            self.remove = remove;\n            self.showErrors = showErrors;\n\n            /// Implementation ///\n            function showError(title, message) {\n                return notifyMessage(title, message, 0, 'error');\n            }\n\n            function showSuccess(title, message) {\n                return notifyMessage(title, message, 2000, 'success');\n            }\n\n            function showInfo(title, message) {\n                return notifyMessage(title, message, 5000, 'info');\n            }\n\n            function showSpinner(title, message) {\n                return notifyMessage(title, message, 0, 'wait');\n            }\n\n            function clear() {\n                toaster.clear();\n            }\n\n            function remove(notificationId, containerId) {\n                toaster.clear(containerId, notificationId);\n            }\n\n            function notifyMessage(title, message, timeout, type) {\n                return toaster.pop({\n                    type: type,\n                    title: title,\n                    body: message,\n                    timeout: timeout,\n                    notifyCloseButton: true,\n                }).toastId;\n            }\n\n            function showErrors(errorMessages, title) {\n                angular.forEach(errorMessages, function (value, key) {\n                    self.showError(title || key, value);\n                });\n            }\n        }\n\n        Notifications.$inject = ['toaster'];\n        return Notifications;\n    })();\n\n    angular.module('courses.notifications', ['toaster'])\n            .service('notifications', Notifications);\n})();\n(function (app) {\n    \"use strict\";\n\n    angular\n        .module('courese.directives.forms', ['ngAnimate', 'ui.bootstrap'])\n        .directive('swrtDatePicker', datePicker);\n\n    function datePicker() {\n        var directive = {\n            require: 'ngModel',\n            restrict: 'E',\n            scope: {\n                ngModel: '=',\n                ngRequired: '=',\n                ngChange: '&',\n                field: '@',\n                format: '@',\n                closeText: '@',\n                clearText: '@',\n                currentText: '@',\n                altInputFormats: '=',\n                datepickerOptions: '=',\n                manualEntry: '@',\n            },\n            replace: true,\n            templateUrl: app.config.directivesPath + 'views/date.picker.html',\n            controller: DatePickerController,\n            controllerAs: 'vm',\n        };\n\n        DatePickerController.$inject = ['$scope', '$timeout'];\n        function DatePickerController($scope, $timeout) {\n            var vm = this;\n            vm.isOpened = false;\n            vm.open = function () {\n                vm.isOpened = true;\n            };\n            vm.closeText = angular.isDefined($scope.closeText) ? $scope.closeText : 'Close';\n            vm.format = angular.isDefined($scope.format) ? $scope.format : 'dd-MMMM-yyyy';\n            vm.manualEntry = angular.isDefined($scope.manualEntry) ? $scope.manualEntry : false;\n            vm.onDateChange = function () {\n                if ($scope.ngChange)\n                    $timeout($scope.ngChange);\n            };\n            vm.isReadOnly = function () {\n                return isReadOnly(vm.manualEntry);\n            };\n        }\n\n        function isReadOnly(manualEntry) {\n            return manualEntry === 'false' || manualEntry === false || manualEntry === '';\n        }\n        return directive;\n    }\n})(app);\n(function () {\n    'use strict';\n\n    angular.module('courese.directives.common', []);\n    angular.module('courese.directives.forms', ['courese.directives.common']);\n    angular.module('courese.directives.layout', ['courese.directives.common']);\n\n    angular.module('courese.directives', ['courese.directives.forms', 'courese.directives.layout']);\n\n})();\n(function (app) {\n    'use strict';\n\n    angular.module('courese.directives.layout')\n        .component('courses.footer', {\n            templateUrl: app.config.directivesPath + 'views/footer.html',\n            controller: function () {\n                var vm = this;\n\n                vm.author = 'Mohammad Helmy (@moahelmy)';\n            },\n            controllerAs: 'vm'\n        });\n})(app);\n(function (app) {\n    'use strict';\n\n    angular.module('courese.directives.layout')\n        .component('courses.header', {\n            templateUrl: app.config.directivesPath + 'views/header.html',\n            controller: function () {\n                var vm = this;\n\n                vm.title = 'Courses - Sample App with AngularJS, EF and ASP.NET MVC';\n            },\n            controllerAs: 'vm'\n        });\n})(app);\n(function () {\r\n    'use strict';\r\n\n    EditCoursesController.$inject = [\"Course\", \"$uibModalInstance\", \"course\"];\r\n    angular.module('courses.main')\r\n        .controller('CourseDeleteDialogController', EditCoursesController);\r\n\r\n\r\n    function EditCoursesController(Course, $uibModalInstance, course) {\r\n        'ngInject';\r\n\r\n        var vm = this;\r\n\r\n        vm.course = course || {};\r\n        vm.delete = _delete;\r\n        vm.cancel = cancel;\r\n\r\n        /// ============== ///\r\n\r\n        function _delete() {\r\n            Course.delete(vm.course, {\r\n                success: function (data) {\r\n                    $uibModalInstance.close(data);\r\n                }\r\n            });\r\n        }\r\n\r\n        function cancel() {\r\n            $uibModalInstance.dismiss('cancel');\r\n        }\r\n    }\r\n})();\n(function () {\n    'use strict';\n\n    EditCoursesController.$inject = [\"Course\", \"$uibModalInstance\", \"course\"];\n    angular.module('courses.main')\n        .controller('CourseEditDialogController', EditCoursesController);\n\n\n    function EditCoursesController(Course, $uibModalInstance, course) {\n        'ngInject';\n\n        var vm = this;\n\n        vm.course = course || {};\n        vm.save = save;\n        vm.cancel = cancel;\n\n        /// ============== ///\n\n        function save() {\n            Course.save(vm.course, {\n                success: function (data) {\n                    $uibModalInstance.close(data);\n                }\n            });\n        }\n\n        function cancel() {\n            $uibModalInstance.dismiss('cancel');\n        }\n    }\n})();\n(function (app) {\n    'use strict';\n\n    EditCourseController.$inject = [\"Teacher\"];\n    angular.module('courses.main')\n        .component('courseEdit', {\n            templateUrl: app.config.courses + 'course.edit.html',\n            controller: EditCourseController,\n            bindings: {\n                course: '=',\n            }\n        });\n\n\n    function EditCourseController(Teacher) {\n        'ngInject';\n\n        var vm = this;\n\n        vm.teachers = Teacher.query();\n        vm.teacher = vm.course && { id: vm.course.teacherId, name: vm.course.teacherName } || {};\n        vm.teacherSelected = teacherSelected;\n\n        vm.course = vm.course || {};\n\n        /// ============== ///\n\n        function teacherSelected(selectedTeacher) {\n            vm.course.teacherId = selectedTeacher.id;\n            vm.course.teacherName = selectedTeacher.name;\n        }\n    }\n})(app);\n(function (app) {\n    'use strict';\n\n    CourseStudentsController.$inject = [\"uiGridConstants\"];\n    angular.module('courses.main')\n        .component('courseStudents', {\n            templateUrl: app.config.courses + 'course.students.html',\n            controller: CourseStudentsController,\n            bindings: {\n                courseId: '='\n            }\n        });\n\n    function CourseStudentsController(uiGridConstants) {\n        'ngInject';\n\n        var vm = this;\n\n        vm.students = [];\n        vm.studentsGrid = [];\n\n        vm.add = addStudent;\n        vm.edit = editStudent;\n        vm.remove = removeStudent;\n\n        _init();\n        /// ============== ///\n\n        function _init() {\n            _initStudentsGrid();\n        }\n\n        function addStudent(entity) {\n\n        }\n\n        function editStudent(entity) {\n\n        }\n\n        function removeStudent(entity) {\n\n        }\n\n        function _initStudentsGrid() {\n            vm.studentsGrid = {\n                paginationPageSizes: [5],\n                paginationPageSize: 5,\n                rowHeight: 33,\n                enableRowSelection: false,\n                enableRowHeaderSelection: false,\n                enableSelectAll: false,\n                multiSelect: false,\n                enableHorizontalScrollbar: uiGridConstants.scrollbars.NEVER,\n                enableVerticalScrollbar: uiGridConstants.scrollbars.NEVER,\n                enableColumnMenus: false,\n                enableSorting: true,\n                columnDefs: [\n                    { field: 'edit', displayName: '', cellTemplate: 'edit-student-template', width: 40, enableSorting: false },\n                    { field: 'delete', displayName: '', cellTemplate: 'delete-student-template', width: 40, enableSorting: false },\n                    { name: 'Name', field: 'name', displayName: 'Name', width: '65%' },\n                    { name: 'Age', field: 'age', displayName: 'Age', cellClass: 'text-center', width: '15%%' },\n                    { name: 'GPA', field: 'gpa', displayName: 'GPA', cellClass: 'text-center', width: '15%' },\n                ],\n                data: '$ctrl.students',\n            };\n            vm.studentsGrid.appScopeProvider = vm;\n        }\n    }\n\n})(app);\n(function (app) {\r\n    'use strict';\n\n    angular.module('courses.main')\n        .component('courseView', {\r\n            templateUrl: app.config.courses + 'course.view.html',\n            controller: ViewCourseController,\n            bindings: {\r\n                course: '=',\r\n            }\r\n        });\n\n\n    function ViewCourseController() {\r\n        'ngInject';\n\n        var vm = this;\n        vm.course = vm.course || {};\r\n    }\r\n})(app);\n(function (app) {\n    'use strict';\n\n    CoursesListController.$inject = [\"uiGridConstants\", \"Course\", \"$uibModal\", \"$templateCache\"];\n    angular.module('courses.main')\n        .component('coursesList', {\n            templateUrl: app.config.courses + 'courses.html',\n            controller: CoursesListController\n        });\n\n\n    function CoursesListController(uiGridConstants, Course, $uibModal, $templateCache) {\n        'ngInject';\n\n        var vm = this;\n\n        vm.courses = Course.query();\n        vm.course = {};\n        vm.coursesGrid = {};\n\n        vm.add = addCourse;\n        vm.edit = editCourse;\n        vm.remove = removeCourse;\n\n        _init();\n        /// ============== ///\n\n        function _init() {\n            _initCoursesGrid();\n        }\n\n        function addCourse() {\n            _openDialog()\n                .result.then(function (course) {\n                    course && vm.courses.push(course);\n                });\n        }\n\n        function editCourse(entity) {\n            _openDialog(entity)\n                .result.then(function (course) {\n                    course && _updateCourse(entity, course);\n                });\n        }\n\n        function removeCourse(entity) {\n            _openDialog(entity, 'course.delete.dialog.html', 'CourseDeleteDialogController')\n                .result.then(function (course) {\n                course && _removeCourse(entity);\n            });\n        }\n\n        function _updateCourse(entity, course) {\n            var index = vm.courses.indexOf(entity);\n            index > -1 && (vm.courses[index] = course);\n        }\n\n        function _removeCourse(entity) {\n            var index = vm.courses.indexOf(entity);\n            index > -1 && vm.courses.splice(index, 1);\n        }\n\n        function _openDialog(course, viewName, ctrl) {\n            var tUrl = app.config.courses + (viewName || 'course.edit.dialog.html');\n            $templateCache.remove(tUrl);\n            return $uibModal.open({\n                animation: true,\n                templateUrl: tUrl,\n                controller: ctrl || 'CourseEditDialogController',\n                controllerAs: 'vm',\n                keyboard: true,\n                backdrop: 'static',\n                size: 'lg',\n                resolve: {\n                    course: function () {\n                        return course || null;\n                    }\n                }\n            })\n        }\n\n        function _initCoursesGrid() {\n            vm.coursesGrid = {\n                paginationPageSizes: [5],\n                paginationPageSize: 5,\n                rowHeight: 33,\n                enableRowSelection: true,\n                enableRowHeaderSelection: false,\n                enableSelectAll: false,\n                multiSelect: false,\n                enableHorizontalScrollbar: uiGridConstants.scrollbars.NEVER,\n                enableVerticalScrollbar: uiGridConstants.scrollbars.NEVER,\n                enableColumnMenus: false,\n                enableSorting: true,\n                columnDefs: [\n                    { field: 'edit', displayName: '', cellTemplate: 'edit-course-template', width: 40, enableSorting: false },\n                    { field: 'delete', displayName: '', cellTemplate: 'delete-course-template', width: 40, enableSorting: false },\n                    { name: 'Name', field: 'name', displayName: 'Name', width: '30%' },\n                    { name: 'Location', field: 'location', displayName: 'Location', width: '40%' },\n                    { name: 'Teacher', field: 'teacherName', displayName: 'Teacher', width: '25%' },\n                ],\n                data: '$ctrl.courses',\n            };\n            vm.coursesGrid.appScopeProvider = vm;\n            vm.coursesGrid.onRegisterApi = function (gridApi) {\n                gridApi.selection.on.rowSelectionChanged(null, function (row) {\n                    vm.course = row.entity;\n                    vm.students = vm.course.students;\n                });\n            };\n        }\n    }\n})(app);\n(function () {\n    'use strict';\n\n    ApiHelper.$inject = [\"$q\", \"$log\", \"notifications\"];\n    angular.module('courses.services')\n            .service('apiHelper', ApiHelper);\n\n    function ApiHelper($q, $log, notifications) {\n        'ngInject';\n\n        var self = this, loadAction = \"load\", createAction = \"create\", saveAction = \"save\", deleteAction = \"delete\", _notificationSettings;\n\n        self.call = call;\n        self.load = load;\n        self.create = create;\n        self.save = save;\n        self.delete = deleteRecord;\n\n        _init();\n\n        /// =================== ///\n        function _init() {\n            _notificationSettings = {};\n            _notificationSettings[loadAction] = {\n                title: 'Loading',\n                spinningPrefix: 'Loading ',\n                successSuffix: ' loaded!',\n                errorPrefix: 'An unexpected error while loading ',\n            };\n            _notificationSettings[createAction] = {\n                title: 'Saving',\n                spinningPrefix: 'Saving ',\n                successSuffix: ' has been created!',\n                errorPrefix: 'An unexpected error while creating ',\n            };\n            _notificationSettings[saveAction] = {\n                title: 'Saving',\n                spinningPrefix: 'Saving changes to ',\n                successSuffix: ' saved!',\n                errorPrefix: 'An unexpected error while saving ',\n            };\n            _notificationSettings[deleteAction] = {\n                title: 'Deleting',\n                spinningPrefix: 'Deleting ',\n                successSuffix: ' deleted!',\n                errorPrefix: 'An unexpected error while deleting ',\n            };\n        }\n\n        function load(params) {\n            params.actionName = loadAction;\n            return _call(params);\n        }\n\n        function create(params) {\n            params.actionName = createAction;\n            return _call(params);\n        }\n\n        function save(params) {\n            params.actionName = saveAction;\n            return _call(params);\n        }\n\n        function deleteRecord(params) {\n            params.actionName = deleteAction;\n            return _call(params);\n        }\n\n        function call(params) {\n            var spinningNotification = params.notifications && params.notifications.spinning,\n                successNotification = params.notifications && params.notifications.success,\n                errorNotification = params.notifications && params.notifications.error,\n                action = params.action;\n            // spinning/success/error notifications are shown only if spinning/success/error is defined.\n            var deferred = $q.defer();\n            var notificationId = null;\n            try {\n                notificationId = spinningNotification && notifications.showSpinner(spinningNotification.title, spinningNotification.message);\n                action().then(function (response) {\n                    if (notificationId) notifications.remove(notificationId);\n                    if (successNotification) notifications.showSuccess(successNotification.title, successNotification.message);\n                    deferred.resolve(_getData(response));\n                })\n                .catch(function (response) {\n                    if (notificationId) notifications.remove(notificationId);\n                    if (response.data && response.data.message) {\n                        notifications.showError('Error', response.data.message);\n                    } else {\n                        if (errorNotification) notifications.showError(errorNotification.title, errorNotification.message);\n                    }\n                    deferred.reject(response);\n                });\n            }\n            catch (ex) {\n                $log.error(ex);\n                if (notificationId) notifications.remove(notificationId);\n                if (errorNotification) notifications.showError(errorNotification.title, 'An unexpected error occured. Check log.');\n                deferred.reject({ Exception: ex });\n            }\n            return deferred.promise;\n        }\n\n        function _call(params) {\n            var args = {\n                notifications: _getNotifications({\n                    description: params.description,\n                    action: params.actionName,\n                }),\n                action: params.action,\n            };\n            return call(args);\n        }\n\n        function _getNotifications(params) {\n            if (!params.description || params.description.length === 0)\n                return;\n            var description = params.description,\n                upperFirstLetterDescription = description[0].toUpperCase() + description.substring(1),\n                lowerFirstLetterDescription = description[0].toLowerCase() + description.substring(1),\n                title, spinningPrefix, successSuffix, errorPrefix;\n            var actionNotificationSetting = _notificationSettings[params.action];\n            if (!actionNotificationSetting)\n                return;\n\n            title = actionNotificationSetting.title;\n            spinningPrefix = actionNotificationSetting.spinningPrefix;\n            successSuffix = actionNotificationSetting.successSuffix;\n            errorPrefix = actionNotificationSetting.errorPrefix;\n            return {\n                spinning: (params.showSpinnerNotifications || true) && { title: title, message: spinningPrefix + lowerFirstLetterDescription },\n                success: (params.showSuccessNoifications || true) && { title: upperFirstLetterDescription, message: upperFirstLetterDescription + successSuffix },\n                error: (params.showErrorNoifications || true) && { title: 'Error!', message: errorPrefix + lowerFirstLetterDescription + '.' },\n            };\n        }\n\n        function _getData(response) {\n            return response && angular.isDefined(response.data) ? response.data : response;\n        }\n    }\n})();\n(function () {\n    'use strict';\n\n    Courses.$inject = [\"resource\"];\n    angular.module('courses.services')\n            .service('Course', Courses);\n\n    function Courses(resource) {\n        'ngInject';\n\n        var courseResource = resource({\n            url: 'api/courses',\n            listName: 'Course',\n            name: 'course'\n        });\n\n        courseResource.students = function (courseId) {\n            return courseResource.query({\n                url: 'api/courses/' + courseId + '/students',\n            });\n        };\n\n        return courseResource;\n    }\n})();\n(function () {\n    'use strict';\n\n    angular.module('courses.services')\n        .factory('transformData', transformFactory);\n\n    function transformFactory() {\n        function transformObject(data) {\n            var obj = {};\n\n            for (var prop in data) {\n                if (data.hasOwnProperty(prop)) {\n                    var newPropName = _lowerFirstLetter(prop);\n                    var splitted = newPropName.split(/[\\s-_]+/);\n                    for (var i = 1; i < splitted.length; i++) {\n                        splitted[i] = _upperFirstLetter(splitted[i]);\n                    }\n                    newPropName = splitted.join('');\n                    obj[newPropName] = data[prop];\n                }\n            }\n\n            return obj;\n        }\n\n        function _lowerFirstLetter(val) {\n            return val !== '' && val.charAt(0).toLowerCase() + val.substring(1);\n        }\n\n        function _upperFirstLetter(val) {\n            return val !== '' && val.charAt(0).toUpperCase() + val.substring(1);\n        }\n\n        function _transform(data) {\n            if (angular.isArray(data)) {\n                var arr = [];\n                for (var i = 0; i < data.length; i++) {\n                    arr.push(_transform(data[i]));\n                }\n                return arr;\n            }\n\n            if (angular.isObject(data)) {\n                return transformObject(data);\n            }\n        }\n\n        return function (data) {\n            return angular.isDefined(data) ? _transform(data) : data;\n        };\n    }\n\n})();\n(function () {\n    'use strict';\n\n    Helper.$inject = [\"$q\", \"$http\", \"settings\", \"transformData\"];\n    angular.module('courses.services')\n        .service('httpClient', Helper);\n\n    function Helper($q, $http, settings, transformData) {\n        'ngInject';\n\n        var self = this;\n\n        self.getUrl = getUrl;\n        self.getDataFromResponse = getDataFromResponse;\n        self.get = function (url, params) {\n            return _http(url, 'GET', params);\n        };\n        self.post = function (url, data) {\n            return _http(url, 'POST', undefined, data);\n        };\n        self.put = function (url, params, data) {\n            return _http(url, 'PUT', params, data);\n        };\n        self.delete = function (url, params) {\n            return _http(url, 'DELETE', params);\n        };\n\n        /// =================== ///\n\n        // this is useful when we need to add constant headers to all requests\n        // also, it's good because I can tailor the success and fail behavior        \n        function _http(url, method, params, data) {\n            var deferred = $q.defer();            \n            $http({\n                method: method,\n                url: getUrl(url),\n                data: data,                \n                headers: { contentType: \"application/json; charset=utf-8\" },\n                params: params,\n            }).then(function (response) {\n                var data = response && response.data;                \n                return deferred.resolve(data ? transformData(data) : response);\n            }).catch(function (response) {\n                deferred.reject(response);\n            });\n\n            return deferred.promise;\n        }\n\n        function getUrl(url) {\n            var wsUrl = settings.webserviceUrl;\n            wsUrl = wsUrl + (wsUrl.charAt(wsUrl.length - 1) === '/' ? '' : '/');\n            return wsUrl + (url.charAt(0) ===  '/' ? url.substring(1) : url);\n        }\n\n        function getDataFromResponse(response) {\n            return response && angular.isDefined(response.data) ? response.data : response;\n        }\n    }\n})();\n(function () {\n    'use strict';\n\n    resourceFactory.$inject = [\"httpClient\", \"apiHelper\", \"notifications\"];\n    angular.module('courses.services')\n        .factory('resource', resourceFactory);\n\n    function resourceFactory(httpClient, apiHelper, notifications) {\n        'ngInject';\n\n        /*  opts\n        *  {\n        *      url: url, can override in save/delete options\n        *      listName: name used in notifications, can override in save/delete options\n        *      name: name used in notifications, can override in save/delete options\n        *      id: name of id property, id can be provided explicitily in save/delete options\n        *      getId: function to get id from data, id can be provided explicitily in save/delete options\n        *  }\n        */\n        return function (opts) {\n            opts = opts || {};\n            if (!opts.url) {\n                throw new Error('Url is required.');\n            }\n            if (opts.id && !angular.isString(opts.id))\n                throw new Error(\"id should be the name of id property\");\n            if (opts.getId && !angular.isFunction(opts.getId))\n                throw new Error(\"getId should be a function to get id from data\");\n            var getId = function (data) {\n                if (opts.id)\n                    return data[opts.id];\n                if (opts.getId)\n                    return opts.getId(data);\n                return data.id || data.Id;\n            };\n\n            var Resource = function (data) {\n                angular.extend(this, data);\n\n                this.$save = function (options) {\n                    return _save(this, options);\n                };\n\n                this.$delete = function (options) {\n                    return _delete(this, options);\n                };\n            };\n\n            Resource.query = _query;\n            Resource.get = _get;\n            Resource.save = _save;\n            Resource.delete = _delete;\n\n            /// ========== ///\n\n            /*\n             * All options in these methods are the same:\n             * {\n             *      id: use this id in delete or save\n             *      url: use this url instead of default\n             *      description: used to construct notifications\n             *      notifications: used to override notifications\n             *      success: what to do on success\n             *      error: what to do on error\n             * }\n             */\n\n            function _save(data, options) {\n                options = options || {};\n                var url = options.url || opts.url;\n                var value = {};\n\n                var promise, method;\n                var id = getId(data);\n                notifications.clear();\n                if (id) {\n                    method = 'save';\n                    url = url + '/' + id;\n                    promise = httpClient.put(url, {}, data);\n                } else {\n                    method = 'create';\n                    promise = httpClient.post(url, data);\n                }\n\n                _call(promise, options, method, value);\n\n                return value;\n            }\n\n            function _delete(data, options) {\n                options = options || {};\n                var url = options.url || opts.url;\n                var value = {};\n\n                notifications.clear();\n                _call(httpClient.delete(url + '/' + getId(data), {}), options, 'delete', value);\n\n                return value;\n            }\n\n            function _query(options) {\n                options = options || {};\n                var url = options.url || opts.url;\n                var list = [];\n\n                _apiCall(httpClient.get(url), options, 'load', true).then(function (data) {\n                    if (data && !angular.isArray(data)) {\n                        throw new Error('Expected an array from the backend');\n                    }\n                    angular.forEach(data, function (value) {\n                        list.push(value);\n                    });\n                    options.success && options.success(list);\n                }).catch(function (error) {\n                    options.error && options.error(error);\n                });\n\n                return list;\n            }\n\n            function _get(id, options) {\n                options = options || {};\n                var url = options.url || opts.url;\n                var value = {};\n\n                _call(httpClient.get(url, { id: id }), options, 'load', value);\n\n                return value;\n            }\n\n            function _apiCall(promise, options, method, isList) {\n                var promiseFn = function(){\n                    return promise;\n                };\n                if (options.notifications)\n                    return apiHelper.call({ notifications: options.notifications, action: promiseFn });\n                return apiHelper[method]({\n                    description: options.description || (isList === true ? opts.listName : opts.name),\n                    action: promiseFn\n                });\n            }\n\n            function _call(promise, options, method, value) {\n                _apiCall(promise, options, method).then(function (data) {\n                    if (data && angular.isArray(data)) {\n                        throw new Error('Expected single value from the backend');\n                    }\n                    angular.copy(data, value);\n                    options.success && options.success(value);\n                }).catch(function (error) {\n                    options.error && options.error(error);\n                });\n            }\n\n            return Resource;\n\n        };\n    }\n})();\n(function () {\n    'use strict';\n\n    Student.$inject = [\"resource\"];\n    angular.module('courses.services')\n            .service('Student', Student);\n\n    function Student(resource) {\n        'ngInject';\n\n        return resource({\n            url: 'api/students',\n            listName: 'Students',\n            name: 'Student'\n        });\n    }\n})();\n(function () {\n    'use strict';\n\n    Teacher.$inject = [\"resource\"];\n    angular.module('courses.services')\n            .service('Teacher', Teacher);\n\n    function Teacher(resource) {\n        'ngInject';\n\n        return resource({\n            url: 'api/teachers',\n            listName: 'Teachers',\n            name: 'Teacher'\n        });\n    }\n})();"],"sourceRoot":"/source/"}